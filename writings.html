<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stop The Train</title>
    <link rel="stylesheet" href="./css/app.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="shortcut icon" href="./favicon.ico">
    <link rel="apple-touch-icon" sizes="152x152" href="./favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./favicons/favicon-16x16.png">
    <link rel="manifest" href="./favicons/manifest.json">
    <link rel="mask-icon" href="./favicons/safari-pinned-tab.svg" color="#0c1517">
    <meta name="msapplication-config" content="./favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <!-- These files are required only for the 'Writings' page: -->
    <link rel="stylesheet" href="./plugins/slick/slick.css">
    <link rel="stylesheet" href="./plugins/magnific-popup/magnific-popup.css">
    <!-- end of files specific to Writings page -->
  </head>
  <body class="writings-page">
    <div class="title-bar right" data-responsive-toggle="nav-menu" data-hide-for="medium">
      <div class="title-bar-title"><a href="./" class="logo-link"><img class="header-logo-full" src="./images/jm-logo-full.png" alt="Jerry McInstosh"></a></div>
      <button class="menu-icon" type="button" data-toggle></button>
    </div>

    <div class="top-bar" id="nav-menu" data-animate="hinge-in-from-top hinge-out-from-top">
      <div class="top-bar-left">
        <ul class="menu" data-dropdown-menu>
          <li class="menu-text show-for-medium">
            <a href="./" class="logo-link"><img class="header-logo-full" src="./images/jm-logo-full.png" alt="Jerry McInstosh"></a>
          </li>
        </ul>
      </div>
      <div class="top-bar-right">
        <ul class="menu" data-dropdown-menu>
          <li><a href="./">Home</a></li>
          <li><a href="./writings">Writings</a></li>
          <li><a href="./bio">Bio</a></li>
          <li><a href="./contact">Contact</a></li>
        </ul>
      </div>
    </div>

    <!-- 'Writings' page content starts here: -->
    <div class="writings-header"></div>

    <!-- Slider starts here: -->
		<div class="slider-section">
			<div class="row">
				<div class="columns small-1">&nbsp;</div>
				<div class="columns small-10 books">
					<div class="slide">
            <img src="./images/book01.jpg" data-title="All Around The Moon" alt="">
            <p class="hide">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. All Around The Moon.</p>
          </div>
					<div class="slide">
            <img src="./images/book06.jpg" data-title="The Green Fairy Book" alt="">
            <p class="hide">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. The Green Fairy Book.</p>
          </div>
					<div class="slide">
            <img src="./images/book07.jpg" data-title="Uncle James's Sketch Book" alt="">
            <p class="hide">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</p>
          </div>
					<div class="slide">
            <img src="./images/book04.jpg" data-title="Dreaming and Doing" alt="">
            <p class="hide">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</p>
          </div>
					<div class="slide">
            <img src="./images/book03.jpg" data-title="Orchids" alt="">
            <p class="hide">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</p>
          </div>
					<div class="slide">
            <img src="./images/book05.jpg" data-title="Un Hivernage Dans Les Glaces" alt="">
            <p class="hide">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</p>
          </div>
					<div class="slide">
            <img src="./images/book02.jpg" data-title="Peter and Wendy" alt="">
            <p class="hide">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</p>
          </div>
				</div>
				<div class="columns small-1">&nbsp;</div>
			</div>
		</div>
    <!-- end of Slider section -->

    <!-- end of 'Writings' page content -->

    <script src="./bower/jquery/dist/jquery.min.js"></script>
    <script src="./bower/what-input/dist/what-input.min.js"></script>
    <script src="./bower/foundation-sites/dist/foundation.min.js"></script>
    <script src="./js/app.js"></script>

    <!-- JavaScript from here down is required only for the 'Writings' page: -->
    <script src="./plugins/slick/slick.min.js"></script>
    <script src="./plugins/magnific-popup/jquery.magnific-popup.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function(){
        //------ Slick Slider code: --------//
        $('.books').slick({
          slidesToShow: 5,
          slidesToScroll: 1,
          arrows: true,
          autoplay: false,
          speed: 400,
          dots: false,
          infinite: true,
          adaptiveHeight: true,
          prevArrow: '<button type="button" class="slick-prev"><i class="fa fa-chevron-left"></button>',
          nextArrow: '<button type="button" class="slick-next"><i class="fa fa-chevron-right"></i></button>',
          cssEase: 'linear',
          responsive: [
            {
              breakpoint: 1024,
              settings: {
                slidesToShow: 3,
                slidesToScroll: 1,
              }
            },
            {
              breakpoint: 640,
              settings: {
                slidesToShow: 1,
                slidesToScroll: 1
              }
            },
          ]
        });

        //------ Magnific Popup modal code: --------//
        $('.slide img').magnificPopup({
          items: {
            src: $('<div class="white-popup"></div>'),
            type: 'inline'
          }
        });
        $('.slide img').click(function(){
        	console.log($(this)[0].nextElementSibling.innerText);

          // Reset modal content on click of book image:
          $('.white-popup').html('');

          var closeBtn = '<button title="Close (Esc)" type="button" class="mfp-close">Ã—</button>';
          var readMoreBtn = '<a href="#" class="button primary large">Read More</a>'
          var src = $(this)[0].src;
          var bookTitle = $(this)[0].dataset.title;
          var bookDescription = $(this)[0].nextElementSibling.innerText;

          // Modal content:
          var content = '<div class="row popup-content">';
          content += '<div class="columns medium-6 left-col">';
          content += '<img src="'+src+'" /></div>';
          content += '<div class="columns medium-6 right-col">';
          content += '<h4>'+bookTitle+'</h4><p>'+bookDescription+'</p>';
          content += readMoreBtn+'</div></div>';

          // After modal is built out, append to white popup:
          $('.white-popup').append(closeBtn+content);
        });
      });
    </script>
  </body>
</html>
